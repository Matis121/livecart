<div class="bg-base-100 rounded-lg shadow-sm">
  <table class="table">
    <thead>
      <tr>
        <th class="font-semibold">ID</th>
        <th class="font-semibold">Nazwa</th>
        <th class="font-semibold">Tworzenie zamówień</th>
        <th class="font-semibold">Status</th>
        <th class="font-semibold">Utworzono</th>
        <th class="text-end font-semibold w-24">Akcje</th>
      </tr>
    </thead>
    <tbody>
      <% transmissions.each do |transmission| %>
        <%= render "transmissions/transmission_row", transmission: transmission %>
      <% end %>
    </tbody>
  </table>
  <div class="flex items-center justify-end gap-4 px-4 py-3 border-t border-base-200">
    <div class="flex items-center gap-2">
      <select
        onchange="window.location.href = this.value"
        class="select select-sm select-bordered bg-base-100 min-h-0 h-8 pr-8"
      >
        <% @per_page_options.each do |option| %>
          <option
            value="<%= transmissions_path(request.params.merge(per_page: option, page: 1)) %>"
            <%= 'selected' if @pagy.limit == option %>
          >
            <%= option %>
          </option>
        <% end %>
      </select>
    </div>
    <div class="flex items-center gap-1">
      <% if @pagy.page > 1 %>
        <%= link_to transmissions_path(request.params.merge(page: @pagy.page - 1)), class: "p-1 rounded hover:bg-base-200 transition-colors" do %>
          <%= lucide_icon('chevron-left', class: 'w-4 h-4') %>
        <% end %>
      <% else %>
        <span class="p-1 opacity-30"><%= lucide_icon('chevron-left', class: 'w-4 h-4') %></span>
      <% end %>
      <span class="px-2 tabular-nums"><%= @pagy.page %> / <%= @pagy.pages %></span>
      <% if @pagy.page < @pagy.pages %>
        <%= link_to transmissions_path(request.params.merge(page: @pagy.page + 1)), class: "p-1 rounded hover:bg-base-200 transition-colors" do %>
          <%= lucide_icon('chevron-right', class: 'w-4 h-4') %>
        <% end %>
      <% else %>
        <span class="p-1 opacity-30"><%= lucide_icon('chevron-right', class: 'w-4 h-4') %></span>
      <% end %>
    </div>
  </div>
</div>
