<div class="bg-base-100 rounded-lg shadow-sm">
  <table class="table">
    <thead>
      <tr>
        <th class="font-semibold">ID</th>
        <th class="font-semibold">Produkt</th>
        <th class="font-semibold">Ilość</th>
        <th class="font-semibold">Zamówienie</th>
        <th class="font-semibold">Klient</th>
        <th class="font-semibold">Status</th>
        <th class="text-end font-semibold">Data utworzenia</th>
      </tr>
    </thead>
    <tbody>
      <% @product_reservations.each do |reservation| %>
        <tr>
          <td><%= reservation.id %></td>
          <td>
            <div class="flex items-center gap-3">
              <div>
                <% if reservation.product.images.attached? %>
                  <%= image_tag reservation.product.images.first, class: "w-14 h-14 object-cover rounded" %>
                <% else %>
                  <span class="text-gray-400"><%= lucide_icon('image', class: 'w-14 h-14') %></span>
                <% end %>
              </div>
              <div>
                <div class="font-medium"><%= link_to reservation.product.name, edit_product_path(reservation.product), class: "hover:underline" %></div>
                <div class="text-sm opacity-60"><% if reservation.product.sku.present? %>SKU: <%= reservation.product.sku %><% end %> <% if reservation.product.ean.present? %><span class="mx-1">&bull;</span> EAN: <%= reservation.product.ean %> <% end %></div>
              </div>
            </div>
          </td>
          <td>
            <span class="badge badge-primary"><%= reservation.quantity %></span>
          </td>
          <td>
            <% if reservation.order %>
              <%= link_to "##{reservation.order.order_number}", order_path(reservation.order), class: "link link-primary" %>
            <% else %>
              <span class="text-gray-400">-</span>
            <% end %>
          </td>
          <td>
            <% if reservation.customer %>
              <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded-full bg-base-300 flex items-center justify-center">
                  <span class="text-xs font-medium"><%= reservation.customer.first_name&.first&.upcase %></span>
                </div>
                <div>
                  <div class="text-sm font-medium">
                    <%= reservation.customer.first_name %> <%= reservation.customer.last_name %>
                  </div>
                </div>
              </div>
            <% else %>
              <span class="text-gray-400">-</span>
            <% end %>
          </td>
          <td>
            <span class="badge badge-warning">Oczekuje</span>
          </td>
          <td class="text-end">
            <div class="text-sm">
              <%= l(reservation.created_at, format: :short) %>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>