<%= form_with model: @discount_code, url: settings_discounts_path, data: { turbo_frame: "_top" } do |f| %>
  <div class="space-y-3">
    <div class="form-control">
      <%= f.label :code, "Kod rabatowy", class: "label" %>
      <%= f.text_field :code, class: "input input-bordered w-full focus:input-primary #{@discount_code.errors[:code].any? ? 'input-error' : ''}", maxLength: 30, placeholder: "Wpisz kod rabatowy" %>
      <% @discount_code.errors[:code].each do |message| %>
        <label class="label"><span class="text-error text-sm"><%= message %></span></label>
      <% end %>
    </div>
    <div class="form-control">
      <%= f.label :kind, "Rodzaj", class: "label" %>
      <%= f.select :kind, options_for_select(DiscountCode::KIND_NAMES.invert.to_a, @discount_code.kind), {}, class: "select select-bordered w-full focus:select-primary #{@discount_code.errors[:kind].any? ? 'select-error' : ''}" %>
      <% @discount_code.errors[:kind].each do |message| %>
        <label class="label"><span class="text-error text-sm"><%= message %></span></label>
      <% end %>
    </div>
    <div class="form-control">
      <%= f.label :value, "Wartość", class: "label" %>
      <%= f.number_field :value, class: "input input-bordered w-full focus:input-primary #{@discount_code.errors[:value].any? ? 'input-error' : ''}" %>
      <% @discount_code.errors[:value].each do |message| %>
        <label class="label"><span class="text-error text-sm"><%= message %></span></label>
      <% end %>
    </div>
    <div class="form-control">
      <%= f.label :valid_from, "Data ważności od", class: "label" %>
      <%= f.date_field :valid_from, class: "input input-bordered w-full focus:input-primary #{@discount_code.errors[:valid_from].any? ? 'input-error' : ''}" %>
      <% @discount_code.errors[:valid_from].each do |message| %>
        <label class="label"><span class="text-error text-sm"><%= message %></span></label>
      <% end %>
    </div>
    <div class="form-control">
      <%= f.label :valid_until, "Data ważności do", class: "label" %>
      <%= f.date_field :valid_until, class: "input input-bordered w-full focus:input-primary #{@discount_code.errors[:valid_until].any? ? 'input-error' : ''}" %>
      <% @discount_code.errors[:valid_until].each do |message| %>
        <label class="label"><span class="text-error text-sm"><%= message %></span></label>
      <% end %>
    </div>
    <div class="form-control">
      <%= f.label :usage_limit, "Limit użycia", class: "label" %>
      <%= f.number_field :usage_limit, class: "input input-bordered w-full focus:input-primary #{@discount_code.errors[:usage_limit].any? ? 'input-error' : ''}" %>
      <% @discount_code.errors[:usage_limit].each do |message| %>
        <label class="label"><span class="text-error text-sm"><%= message %></span></label>
      <% end %>
    </div>
    <div class="form-control">
      <label class="label cursor-pointer justify-start gap-3">
        <%= f.check_box :free_shipping, class: "toggle toggle-primary toggle-sm" %>
        <span class="label-text">Darmowa dostawa</span>
      </label>
    </div>
    <div class="form-control">
      <label class="label cursor-pointer justify-start gap-3">
        <%= f.check_box :active, class: "toggle toggle-primary toggle-sm" %>
        <span class="label-text">Aktywny</span>
      </label>
    </div>
  </div>
  <div class="modal-action">
    <button type="button" class="btn btn-ghost" onclick="document.getElementById('discount_modal').innerHTML = ''">Anuluj</button>
    <%= f.submit "Zapisz", class: "btn btn-primary" %>
  </div>
<% end %>